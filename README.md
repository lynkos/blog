<div align="center">
  <h1>Chirpy x Lynkos</h1>
  <img alt="Ruby" src="https://img.shields.io/static/v1?label=Language&style=flat&message=Ruby&logo=ruby&color=CC342D&labelColor=393939&logoColor=CC342D">
  <img alt="HTML" src="https://img.shields.io/static/v1?label=Language&style=flat&message=HTML&logo=html5&color=E34F26&labelColor=393939&logoColor=E34F26">
  <img alt="JavaScript" src="https://img.shields.io/static/v1?label=Language&style=flat&message=JavaScript&logo=javascript&color=F7DF1E&labelColor=393939&logoColor=F7DF1E">
  <img alt="SCSS" src="https://img.shields.io/static/v1?label=Language&style=flat&message=SCSS&logo=sass&color=CC6699&labelColor=393939&logoColor=CC6699">
  <img alt="Liquid" src="https://img.shields.io/static/v1?label=Language&style=flat&message=Liquid&logo=shopify&color=7AB55C&labelColor=393939&logoColor=7AB55C">
  <img alt="Markdown" src="https://img.shields.io/static/v1?label=Language&style=flat&message=Markdown&logo=markdown&color=000000&labelColor=393939&logoColor=000000">
  <img alt="Bash" src="https://img.shields.io/static/v1?label=Language&style=flat&message=Bash&logo=gnubash&color=4EAA25&labelColor=393939&logoColor=4EAA25">
  <img alt="YAML" src="https://img.shields.io/static/v1?label=Language&style=flat&message=YAML&logo=yaml&color=CB171E&labelColor=393939&logoColor=CB171E">
  <img alt="JSON" src="https://img.shields.io/static/v1?label=Language&style=flat&message=JSON&logo=json&color=000000&labelColor=393939&logoColor=000000">
  <img alt="Bootstrap" src="https://img.shields.io/static/v1?label=Package&style=flat&message=Bootstrap&logo=bootstrap&color=7952B3&labelColor=393939&logoColor=7952B3">
  <img alt="Babel" src="https://img.shields.io/static/v1?label=Package&style=flat&message=Babel&logo=babel&color=F9DC3E&labelColor=393939&logoColor=F9DC3E">
  <img alt="Rollup" src="https://img.shields.io/static/v1?label=Package&style=flat&message=Rollup&logo=rollupdotjs&color=EC4A3F&labelColor=393939&logoColor=EC4A3F">
  <img alt="PurgeCSS" src="https://img.shields.io/static/v1?label=Package&style=flat&message=PurgeCSS&logo=purgecss&color=14161A&labelColor=393939&logoColor=14161A">
  <img alt="Jekyll" src="https://img.shields.io/static/v1?label=Tool&style=flat&message=Jekyll&logo=jekyll&color=CC0000&labelColor=393939&logoColor=CC0000">
  <img alt="Obsidian" src="https://img.shields.io/static/v1?label=Tool&style=flat&message=Obsidian&logo=obsidian&color=7C3AED&labelColor=393939&logoColor=7C3AED">
  <img alt="Cloudflare" src="https://img.shields.io/static/v1?label=Tool&style=flat&message=Cloudflare&logo=cloudflare&color=F38020&labelColor=393939&logoColor=F38020">
  <img alt="Giscus" src="https://img.shields.io/static/v1?label=Tool&style=flat&message=Giscus&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjNzFBQkU3IiBkPSJNMTY4LjUgNzJsODcuNSA5MyA4Ny41LTkzLTE3NSAwek0zODMuOSA5OS4xbC03Mi4zIDc2LjkgMTI5IDAtNTYuNi03Ni45em01MCAxMjQuOUw3OC4xIDIyNCAyNTYgNDIwLjMgNDMzLjkgMjI0ek03MS41IDE3NmwxMjkgMC03Mi4zLTc2LjktNTYuNiA3Ni45em00MzQuMyA0MC4xbC0yMzIgMjU2Yy00LjUgNS0xMSA3LjktMTcuOCA3LjlzLTEzLjItMi45LTE3LjgtNy45bC0yMzItMjU2Yy03LjctOC41LTguMy0yMS4yLTEuNS0zMC40bDExMi0xNTJjNC41LTYuMSAxMS43LTkuOCAxOS4zLTkuOGwyNDAgMGM3LjYgMCAxNC44IDMuNiAxOS4zIDkuOGwxMTIgMTUyYzYuOCA5LjIgNi4xIDIxLjktMS41IDMwLjR6Ii8+PC9zdmc+&color=71ABE7&labelColor=393939&logoColor=71ABE7">
  <img alt="Enveloppe" src="https://img.shields.io/static/v1?label=Tool&style=flat&message=Enveloppe&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjRTlDRTk3IiBkPSJNNDggNjRjLTI2LjUgMC00OCAyMS41LTQ4IDQ4IDAgMTUuMSA3LjEgMjkuMyAxOS4yIDM4LjRsMjA4IDE1NmMxNy4xIDEyLjggNDAuNSAxMi44IDU3LjYgMGwyMDgtMTU2YzEyLjEtOS4xIDE5LjItMjMuMyAxOS4yLTM4LjQgMC0yNi41LTIxLjUtNDgtNDgtNDhMNDggNjR6TTAgMTk2TDAgMzg0YzAgMzUuMyAyOC43IDY0IDY0IDY0bDM4NCAwYzM1LjMgMCA2NC0yOC43IDY0LTY0bDAtMTg4LTE5OC40IDE0OC44Yy0zNC4xIDI1LjYtODEuMSAyNS42LTExNS4yIDBMMCAxOTZ6Ii8+PC9zdmc+&color=E9CE97&labelColor=393939&logoColor=E9CE97">
  <img alt="GitHub Actions" src="https://img.shields.io/static/v1?label=CI/CD&style=flat&message=GitHub+Actions&logo=github+actions&color=2088FF&labelColor=393939&logoColor=2088FF">
  <br>
  <img alt="Gem Version" src="https://img.shields.io/gem/v/jekyll-theme-chirpy?&logo=RubyGems&logoColor=white&label=gem&color=E9573F">
  <img alt="Website status" src="https://img.shields.io/website?url=https%3A%2F%2Fblog.lynkos.dev&up_message=online&up_color=green&down_message=offline&down_color=red&style=flat&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjI0IDI0YzAtMTMuMyAxMC43LTI0IDI0LTI0IDE0NS44IDAgMjY0IDExOC4yIDI2NCAyNjQgMCAxMy4zLTEwLjcgMjQtMjQgMjRzLTI0LTEwLjctMjQtMjRjMC0xMTkuMy05Ni43LTIxNi0yMTYtMjE2LTEzLjMgMC0yNC0xMC43LTI0LTI0ek04MCA5NmMyNi41IDAgNDggMjEuNSA0OCA0OGwwIDIyNGMwIDI2LjUgMjEuNSA0OCA0OCA0OHM0OC0yMS41IDQ4LTQ4LTIxLjUtNDgtNDgtNDhjLTguOCAwLTE2LTcuMi0xNi0xNmwwLTY0YzAtOC44IDcuMi0xNiAxNi0xNiA3OS41IDAgMTQ0IDY0LjUgMTQ0IDE0NFMyNTUuNSA1MTIgMTc2IDUxMiAzMiA0NDcuNSAzMiAzNjhsMC0yMjRjMC0yNi41IDIxLjUtNDggNDgtNDh6bTE2OCAwYzkyLjggMCAxNjggNzUuMiAxNjggMTY4IDAgMTMuMy0xMC43IDI0LTI0IDI0cy0yNC0xMC43LTI0LTI0YzAtNjYuMy01My43LTEyMC0xMjAtMTIwLTEzLjMgMC0yNC0xMC43LTI0LTI0czEwLjctMjQgMjQtMjR6Ii8+PC9zdmc+&logoColor=white">
  <img alt="GitHub Actions Workflow Status" src="https://img.shields.io/github/actions/workflow/status/lynkos/blog/pages-deploy.yml?logo=github">
  <a target="_blank" href="LICENSE" title="Link to License"><img alt="License" src="https://img.shields.io/github/license/lynkos/blog?color=goldenrod&logoColor=white&logo=data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0ibTIzLjkgOS43LTMuNTQtNy44OS0uMDA1LS4wMWEuNTQyLjU0MiAwIDAgMC0uMDQxLS4wNzZsLS4wMTQtLjAxOGEuNTMzLjUzMyAwIDAgMC0uMTIyLS4xMjJsLS4wMTUtLjAxMWEuNTI4LjUyOCAwIDAgMC0uMDgtLjA0NGwtLjAyNC0uMDA5YS41MjcuNTI3IDAgMCAwLS4wNjctLjAybC0uMDI4LS4wMDdhLjUyNC41MjQgMCAwIDAtLjA5Ni0uMDFoLTYuODVjLTEuMDItMS41Mi0xLjAyLTEuNTQtMiAwaC02Ljg2YS41NDMuNTQzIDAgMCAwLS4wOTYuMDFsLS4wMjguMDA3YS41MTYuNTE2IDAgMCAwLS4wNjcuMDJsLS4wMjQuMDFhLjUzNy41MzcgMCAwIDAtLjA4LjA0M2wtLjAxNS4wMTFhLjUxLjUxIDAgMCAwLS4wNTcuMDQ3bC0uMDIuMDJhLjU0My41NDMgMCAwIDAtLjA0NS4wNTVsLS4wMTQuMDE4YS41MjIuNTIyIDAgMCAwLS4wNDEuMDc1bC0uMDA1LjAxdi4wMDFMLjExNiA5LjcyYS41MzEuNTMxIDAgMCAwLS4wOTYuMzA0YzAgMi4yOCAxLjg2IDQuMTQgNC4xNCA0LjE0czQuMTQtMS44NiA0LjE0LTQuMTRhLjUzLjUzIDAgMCAwLS4wOTYtLjMwNGwtMy4yNS02LjM3IDYuMDctLjAyM3YxOC4yYy0yLjU1LjI5NC03LjAxLjM4MS03IDIuNWgxNmMwLTIuMDMtNC40OC0yLjI3LTctMi41di0xOC4xbDUuNjktLjAyLTIuOTIgNi40OWMwIC4wMDIgMCAuMDAzLS4wMDIuMDA1bC0uMDA2LjAxOGEuNTQ1LjU0NSAwIDAgMC0uMDIzLjA3NWwtLjAwNS4wMmEuNTI0LjUyNCAwIDAgMC0uMDEuMDkydi4wMDhjMCAyLjI4IDEuODYgNC4xNCA0LjE0IDQuMTQgMi4yOCAwIDQuMTQtMS44NiA0LjE0LTQuMTRhLjUyOC41MjggMCAwIDAtLjEyLS4zMzJ6IiBmaWxsPSIjZmZmZmZmIj48L3BhdGg+PC9zdmc+"></a>
  <a target="_blank" href="https://deepwiki.com/lynkos/blog" title="DeepWiki for lynkos/blog repository"><img src="https://deepwiki.com/badge.svg" alt="Ask DeepWiki"></a>
  <br><br>
  
  This is a fork of <a target="_blank" href="https://github.com/cotes2020/jekyll-theme-chirpy" title="Link to jekyll-theme-chirpy GitHub repository"><code>jekyll-theme-chirpy</code></a> that has been **heavily modified** to include a [graph view plugin](_plugins/graph-generator.rb), [tabbed container plugin](_plugins/tabs.rb), [gallery slideshow plugin](_plugins/gallery.rb), [link preview](_javascript/modules/components/link-preview.js), [image proxy](#setup-image-proxy) (e.g. for Twitter links), [Jekyll plugin to fix malformed Markdown links](_plugins/fix-anchor-links.rb), auto-generates `CNAME` and `.nojekyll` files during [build and deployment](.github/workflows/pages-deploy.yml), custom "Important" prompt, custom <code>details</code> styling, and more.
</div>

## Quick Start
> [!TIP]
> Use this command if the shell script doesn't work
> ```sh
> bundle exec jekyll serve --incremental
> ```

Start dev environment (aka run local server)
```sh
sh tools/run.sh
```

## Initial Setup
### Initialize Environment
```sh
sh tools/init.sh
```

### Sync Fork with Upstream
To keep fork up-to-date with original repository (i.e. Chirpy)

1. Link the upstream (i.e. original) repository to fork
   ```sh
   git remote add upstream https://github.com/cotes2020/jekyll-theme-chirpy.git
   ```

 > [!TIP]
 > Use this command if you've already linked the upstream repository and want to re-link it
 > ```sh
 > git remote set-url upstream https://github.com/cotes2020/jekyll-theme-chirpy.git
 > ```

2. Confirm the remote URL with either command
  * Command #1
    * Input:
      ```sh
      git remote show
      ```
  
    * Output should look similar to:
      ```
      origin
      upstream
      ```

  * Command #2
    * Input:
      ```sh
      git remote -v
      ```
  
    * Output should look similar to:
      ```
      origin  https://github.com/lynkos/blog.git (fetch)
      origin  https://github.com/lynkos/blog.git (push)
      upstream        https://github.com/cotes2020/jekyll-theme-chirpy.git (fetch)
      upstream        https://github.com/cotes2020/jekyll-theme-chirpy.git (push)
      ```

3. Fetch latest changes from upstream repository
   ```sh
   git fetch upstream master
   ```

4. Switch to `master` branch (so it's recognized)
   ```sh
   git checkout master
   ```

5. Switch to the branch you want to sync
   ```sh
   git checkout main
   ```

6. Merge changes from upstream into local branch
   ```sh
   git merge upstream/main
   ```

7. Push changes to your fork
   ```sh
   git push origin main
   ```

### Setup Giscus
Install by going to [Giscus](https://giscus.app) and filling out the form. For it to work, these requirements **must** be met:
- [x] Repository is [public](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/setting-repository-visibility#making-a-repository-public)
- [x] [Giscus app](https://github.com/apps/giscus) is installed
- [x] Discussions feature is [enabled for repository](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/enabling-or-disabling-github-discussions-for-a-repository)

 Example code with my configuration:

```html
<script src="https://giscus.app/client.js"
        data-repo="<GITHUB_USERNAME>/<REPO>"
        data-repo-id="<REPO_ID>"
        data-category="Announcements"
        data-category-id="<CATEGORY_ID>"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
```

### Setup Enveloppe
1. Open **Settings** (<kbd>⌘</kbd> + <kbd>,</kbd>)
2. Go to **Community plugins** tab
3. Turn off **Restricted mode** to enable community plugins
4. Click **Browse**, which is next to **Community plugins**
5. Enter `Enveloppe` in the searchbar
6. Click on [Enveloppe](obsidian://show-plugin?id=obsidian-mkdocs-publisher), then click **Install** (note: I'm using **Version `7.6.3`**)
7. Once Enveloppe's installed, go to its Settings
8. Copy my Enveloppe settings:
   ```json
   {
     "github": {
       "branch": "main",
       "automaticallyMergePR": true,
       "dryRun": {
         "enable": false,
         "folderName": "enveloppe"
       },
       "api": {
         "tiersForApi": "Github Free/Pro/Team (default)",
         "hostname": ""
       },
       "workflow": {
         "commitMessage": "[OBSIDIAN] Merge",
         "name": ""
       },
       "verifiedRepo": true
     },
     "upload": {
       "behavior": "fixed",
       "defaultName": "_posts",
       "rootFolder": "",
       "yamlFolderKey": "",
       "frontmatterTitle": {
         "enable": true,
         "key": "filename"
       },
       "replaceTitle": [
         {
           "regex": "/\\s+/",
           "replacement": "-",
           "type": "title"
         }
       ],
       "replacePath": [],
       "autoclean": {
         "includeAttachments": true,
         "enable": false,
         "excluded": []
       },
       "folderNote": {
         "enable": false,
         "rename": "index.md",
         "addTitle": {
           "enable": false,
           "key": "title"
         }
       },
       "metadataExtractorPath": ""
     },
     "conversion": {
       "hardbreak": false,
       "dataview": true,
       "censorText": [],
       "tags": {
         "inline": false,
         "exclude": [],
         "fields": []
       },
       "links": {
         "internal": true,
         "unshared": true,
         "wiki": true,
         "slugify": "strict",
         "unlink": true,
         "relativePath": true,
         "textPrefix": "/"
       }
     },
     "embed": {
       "attachments": true,
       "overrideAttachments": [],
       "keySendFile": [],
       "notes": false,
       "folder": "assets/img/obsidian",
       "convertEmbedToLinks": "keep",
       "charConvert": "->",
       "unHandledObsidianExt": [],
       "sendSimpleLinks": true,
       "forcePush": true,
       "useObsidianFolder": false
     },
     "plugin": {
       "shareKey": "share",
       "excludedFolder": [
         "templates"
       ],
       "copyLink": {
         "enable": false,
         "links": "",
         "removePart": [],
         "addCmd": false,
         "transform": {
           "toUri": true,
           "slugify": "lower",
           "applyRegex": []
         }
       },
       "setFrontmatterKey": "Set"
     }
   }
   ```

9. Click **Import settings** and paste the copied `enveloppe.json` (from the previous step) where it says `Paste configuration here...`, then click **Save**
10.  Under **GitHub config**, enter your **GitHub username**, **Repository name**, and — if your main branch is not named `main` — **Main branch** name
11.  Generate a fine-grained personal access token for your GitHub repository in order to give Enveloppe necessary permissions to work by going to your [GitHub settings](https://github.com/settings)
12.  Scroll down and click [**Developer settings**](https://github.com/settings/apps)
13.  Click **Personal access tokens**, click [**Fine-grained tokens**](https://github.com/settings/personal-access-tokens), then click [**Generate new token**](https://github.com/settings/personal-access-tokens/new)
14.  Enter a descriptive **Token name** (e.g. `Enveloppe (Obsidian)`) and **Description** (e.g. `Enveloppe (Obsidian Vault → GitHub Repo)`)
15.  Choose your GitHub account as **Resource owner**
16.  Select **No expiration** for **Expiration**
17.  Under **Repository access**, click **Only select repositories** then click **Select repositories** and select the GitHub repository for your Jekyll blog (e.g. `lynkos/blog`)
18. Click **Repository permissions** under **Permissions**
19. Always choose the minimal permissions necessary, so all options should be set to **Access: No access**, with the exception of the following:
    | Permission    | Access         | Reason                         |
    | :------------ | :------------- | :----------------------------- |
    | Contents      | Read and write | Create branch                  |
    | Metadata      | Read-only      | Mandatory                      |
    | Pull requests | Read and write | Create and merge pull requests |
    | Workflows     | Read and write | Create/update file             |

20. Click **Generate token**
21. Copy the generated GitHub personal access token; it should start with `github_` followed by a long, random string of alphanumeric characters and underscores
22. Back in Enveloppe settings, paste it in the **GitHub token** area

### Setup Image Proxy
A custom [Cloudflare Worker](https://workers.cloudflare.com) hotlinks images from sites that may restrict it; this way I can embed images from Twitter/X. Custom Ruby plugin [`_plugins/gallery.rb`](_plugins/gallery.rb) automatically prepends Twitter/X URLs within a gallery (i.e. `{% gallery %} ... {% endgallery %}`) with the value of [`worker_base_url`](_plugins/gallery.rb#L33). Additional sites will be added as needed. Currently only supports Twitter/X.

1. Sign up and/or login to [Cloudflare](https://cloudflare.com)
2. Go to [your dashboard](https://dash.cloudflare.com)
3. In the left pane, click **Compute (Workers)**, then **Workers & Pages**
4. Click the blue **Create application** button in the upper-right corner
5. In the **Workers** tab, click the blue **Get Started** button to the right of **Start with Hello World!**
6. Name the worker `img-proxy`
7. Click **Deploy**
8. You should be redirected to a page that says **Success! Your project is deployed to Region: ...**
9. Click the **Edit Code** button; you can also access this page later by going to **Compute (Workers)** > **Workers & Pages**, clicking the worker (i.e. `img-proxy`), then clicking the small icon **</>** in the upper-right corner
10. This should open the Cloudflare Workers IDE; replace the default code in `worker.js` with the following code:
    ```js
    export default {
      /**
       * @param {{ url: string | URL; }} request
       */
      async fetch(request) {
        const url = new URL(request.url);
        const target = url.searchParams.get("url"); // i.e. ?url=https://pbs.twimg.com/media/...

        if (!target) {
          return new Response("Missing ?url= param", { status: 400 });
        }

        try {
          const resp = await fetch(target, {
            headers: { "User-Agent": "Mozilla/5.0" }
          });

          const headers = new Headers(resp.headers);
          headers.set("Access-Control-Allow-Origin", "*");

          return new Response(await resp.arrayBuffer(), {
            status: resp.status,
            headers
          });
        } catch (err) {
          return new Response("Fetch error: " + err.message, { status: 502 });
        }
      }
    };
    ```
  > [!TIP]
  > Test the worker in the **Preview** pane by adding `?url=` and the link to an image on Twitter (e.g. `https://pbs.twimg.com/media/GzPhoaKWoAA16uA?format=jpg&name=medium`) following AFTER your worker's URL (i.e. `https://img-proxy.<YOUR_DOMAIN_NAME>.workers.dev/`) in the input field
  > 
  > So, in this example, the full URL is: `https://img-proxy.<YOUR_DOMAIN_NAME>.workers.dev/?url=https://pbs.twimg.com/media/GzPhoaKWoAA16uA?format=jpg&name=medium`
  >
  > Click the **Reload** button (circular arrow icon) to the right of the input field to test it; if successful, you should see the image in the **Preview** pane
11. Click **Deploy** in the upper-right corner
12. You can now use this worker as an image proxy by using the following URL format:
    ```html
    https://img-proxy.<YOUR_DOMAIN_NAME>.workers.dev/?url=<IMAGE_URL>
    ```
    where `<YOUR_DOMAIN_NAME>` is your Cloudflare domain (e.g. `example.com`) and `<IMAGE_URL>` is the full URL of the image you want to hotlink (e.g. `https://pbs.twimg.com/media/GzPhoaKWoAA16uA?format=jpg&name=medium`)

**_OPTIONAL: USE CUSTOM DOMAIN_** (e.g. `img-proxy.<YOUR_ROOT_DOMAIN>`)

13.   In the left pane, click **DNS**, then **Records**
14.   Click the blue **+ Add record** button, then add a new record with the following details:
      * **Type**: `CNAME`
      * **Name**: `img-proxy` (or whatever subdomain you want to use)
      * **IPv4 address**: `workers.dev`
      * **Proxy status**: `Proxied` aka Enabled (orange cloud icon)
      * **TTL**: `Auto`
      * **Comment**: `Map img-proxy worker (at img-proxy.<YOUR_DOMAIN_NAME>.workers.dev) to img-proxy.<YOUR_ROOT_DOMAIN>`
15.  Click **Save**
16.  Click **Workers Routes** in the left pane, then click the blue **Add route** button in the **HTTP Routes** section
17.  In the **Route** field, enter `img-proxy.<YOUR_ROOT_DOMAIN>/*`
18.  Under **Worker**, select `img-proxy` worker (or whatever you named it) from the dropdown
19.  Click **Save**
20.  You can now use the custom domain for your image proxy at `https://img-proxy.<YOUR_ROOT_DOMAIN>/?url=<IMAGE_URL>` (e.g. `https://img-proxy.example.com/?url=https://pbs.twimg.com/media/GzPhoaKWoAA16uA?format=jpg&name=medium`)

## Appendix
### JavaScript Development
Run this command after making any changes to files in `_javascript/` directory to update (i.e. rebuild JavaScript bundle):
```sh
npm run build:js
```

See [`package.json`](package.json#L16) for more scripts and details.

### Contribute Upstream
Continue reading if you want to create a pull request in [`jekyll-theme-chirpy`](https://github.com/cotes2020/jekyll-theme-chirpy) with only a subset of your commits. This is useful if you want to add a feature to upstream without committing all your changes.

1. If you haven't already, complete the steps in [Sync Fork with Upstream](#sync-fork-with-upstream) section
2. Create a new branch, e.g. `BRANCH_NAME`
   ```sh
   git checkout -b BRANCH_NAME upstream/master
   ```
3. Cherry pick the commit(s) you want to include in the PR
   ```sh
   git cherry-pick COMMIT_HASH
   ```
4. Push your branch
   ```sh
   git push origin BRANCH_NAME
   ```
5. If successful, the terminal should output something similar to this:
   ```
   Enumerating objects: 111, done.
   Counting objects: 100% (83/83), done.
   Delta compression using up to 16 threads
   Compressing objects: 100% (50/50), done.
   Writing objects: 100% (51/51), 8.50 KiB | 1.70 MiB/s, done.
   Total 51 (delta 36), reused 0 (delta 0), pack-reused 0 (from 0)
   remote: Resolving deltas: 100% (36/36), completed with 26 local objects.
   remote: 
   remote: Create a pull request for 'BRANCH_NAME' on GitHub by visiting:
   remote:      https://github.com/GITHUB_USERNAME/REPOSITORY_NAME/pull/new/BRANCH_NAME
   remote: 
   To https://github.com/GITHUB_USERNAME/REPOSITORY_NAME.git
    * [new branch]      BRANCH_NAME -> BRANCH_NAME
   ```
6. Go to the originally forked repository, i.e. [`jekyll-theme-chirpy`](https://github.com/cotes2020/jekyll-theme-chirpy)
7. Click the <kbd>New pull request</kbd> button
8. Complete the pull request template accordingly
9. Click the <kbd>Create pull request</kbd> button

### Preview Image
To add a preview image to a post, add the following front matter to the top of the post's Markdown file:
```yaml
image:
  path: /path/to/image.png
  lqip: base64-encoded-lqip
  alt: Image caption and alt text
```

To generate a base64-encoded LQIP for the `lqip` field:
1. Visit [lqip generator](https://chrisleverseo.com/tools/lqip-generator-tool)
2. Input your preview image
3. Customize the options as needed; here are my recommendations:
  * Placeholder Size: `Small`
  * Quality: `60`
  * Blur Amount: `5px`
4. Click <kbd>Generate LQIP</kbd>
5. Click <kbd>Download</kbd> to save the generated image
6. Visit [Image to Base64](https://base64.guru/converter/encode/image) (alternatively, you can use another base64 encoder)
7. Under **Datatype**, select <kbd>Local File</kbd>
8. Under **Local File**, click <kbd>Browse...</kbd> and select the downloaded LQIP
9. Under **Output Format**, select <kbd>Data URI -- data:content/type;base64</kbd>
10. Click <kbd>Encode image to Base64</kbd> and copy the generated base64 string
11. Paste the base64 string in the `lqip` field of the front matter

If you want to confirm that the base64 string works, you can either:
* Paste it in your browser's address bar, then click <kbd>Enter</kbd>
* Visit [Base64 Image Viewer](https://jaredwinick.github.io/base64-image-viewer) and paste the base64 string in the input field below **Base64 Image String**

## Credit
Full credit for [`jekyll-theme-chirpy`](https://github.com/cotes2020/jekyll-theme-chirpy) goes to [`cotes2020`](https://github.com/cotes2020), aka [Cotes Chung](https://cotes.page).

For more information, check out the [Wiki docs](https://github.com/cotes2020/jekyll-theme-chirpy/wiki) and [original license](https://github.com/cotes2020/jekyll-theme-chirpy/blob/master/LICENSE).
