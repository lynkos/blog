{% comment %}
  Determine TOC state and return it through variable "enable_toc"
{% endcomment %}

{% assign enable_toc = false %}
{% if site.toc.enabled and page.toc %}
  {% for i in (site.toc.min_heading_level..site.toc.max_heading_level) %}
    {% assign heading_tag = '<h' | append: i %}
    {% if page.content contains heading_tag %}
      {% assign enable_toc = true %}
      {% break %}
    {% endif %}
  {% endfor %}
{% endif %}